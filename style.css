/*===============================================
    AGRITECH AI PLATFORM - UNIFIED STYLESHEET
=================================================*/

/* 1. DESIGN SYSTEM (VARIABLES & BASE)
-------------------------------------------------*/
:root {
  /* Colors - Light Mode */
  --color-primary-rgb: 33, 128, 141;
  --color-secondary-rgb: 94, 82, 64;
  --color-success-rgb: 28, 138, 88;
  --color-error-rgb: 192, 21, 47;
  --color-warning-rgb: 245, 158, 11;
  --color-info-rgb: 59, 130, 246;
  
  --color-background: #fcfcf9;
  --color-surface: #ffffff;
  --color-text: #13343b;
  --color-text-secondary: #626c71;
  --color-border: rgba(var(--color-secondary-rgb), 0.2);
  --color-primary: rgb(var(--color-primary-rgb));
  --color-primary-hover: #1d7480;
  --color-primary-active: #1a6873;
  --color-secondary: rgba(var(--color-secondary-rgb), 0.12);
  --color-success: rgb(var(--color-success-rgb));
  --color-error: rgb(var(--color-error-rgb));
  --color-warning: rgb(var(--color-warning-rgb));
  --color-info: rgb(var(--color-info-rgb));
  --color-btn-primary-text: #fcfcf9;
  --color-focus-ring: rgba(var(--color-primary-rgb), 0.4);
  --select-caret: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2313343b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  
  /* Typography */
  --font-family-base: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 24px;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  
  /* Spacing */
  --space-4: 4px; --space-8: 8px; --space-12: 12px; --space-16: 16px;
  --space-20: 20px; --space-24: 24px; --space-32: 32px;

  /* Others */
  --radius-base: 8px; --radius-lg: 12px; --radius-full: 9999px;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.06), 0 4px 6px -2px rgba(0,0,0,0.04);
  --duration-normal: 250ms;
  --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
}

html[data-color-scheme="dark"] {
  --color-background: #1f2121;
  --color-surface: #262828;
  --color-text: #f5f5f5;
  --color-text-secondary: #a7a9a9;
  --color-border: rgba(119, 124, 124, 0.3);
  --color-primary: #32b8c6;
  --color-primary-hover: #45c2ce;
  --color-primary-active: #53ceda;
  --color-secondary: rgba(119, 124, 124, 0.15);
  --color-btn-primary-text: #13343b;
  --color-success: #2fdd93;
  --color-error: #ff5459;
  --color-warning: #e68161;
  --color-info: #4c96f8;
  --select-caret: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
}

/* Base Styles */
*, *::before, *::after { box-sizing: border-box; }
body {
  margin: 0;
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  background-color: var(--color-background);
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
}
h1,h2,h3,h4 { margin: 0; font-weight: var(--font-weight-semibold); }
p { margin: 0; }

/* 2. MAIN LAYOUT & COMPONENTS
-------------------------------------------------*/
.main-layout { display: flex; min-height: 100vh; }
.sidebar {
    width: 260px;
    background-color: var(--color-surface);
    border-right: 1px solid var(--color-border);
    display: flex;
    flex-direction: column;
    padding: var(--space-24);
    transition: width var(--duration-normal) var(--ease-standard);
}
.sidebar-header {
    display: flex;
    align-items: center;
    gap: var(--space-12);
    margin-bottom: var(--space-32);
}
.sidebar-logo { font-size: 28px; }
.sidebar-header h1 { font-size: var(--font-size-xl); color: var(--color-primary); }
.sidebar-nav { display: flex; flex-direction: column; gap: var(--space-8); }
.nav-link {
    display: flex;
    align-items: center;
    gap: var(--space-16);
    padding: var(--space-12) var(--space-16);
    border-radius: var(--radius-base);
    text-decoration: none;
    color: var(--color-text-secondary);
    font-weight: var(--font-weight-medium);
    transition: all var(--duration-normal) var(--ease-standard);
}
.nav-link:hover { background-color: var(--color-secondary); color: var(--color-text); }
.nav-link.active { background-color: var(--color-primary); color: var(--color-btn-primary-text); }
.nav-link i { font-size: var(--font-size-lg); }
.sidebar-footer { margin-top: auto; font-size: var(--font-size-sm); color: var(--color-text-secondary); text-align: center; }

.main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
}
.app-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-16) var(--space-24);
    border-bottom: 1px solid var(--color-border);
    position: sticky; top: 0;
    background-color: var(--color-background);
    z-index: 10;
}
.app-title { font-size: var(--font-size-2xl); }
.header-controls { display: flex; align-items: center; gap: var(--space-12); }
.language-select { min-width: 120px; font-size: var(--font-size-sm); }
.theme-toggle-btn { width: 40px; height: 40px; padding: 0; font-size: var(--font-size-lg); }

.page-container { padding: var(--space-24); }
.page-content { display: none; animation: fadeIn 0.5s var(--ease-standard); }
.page-content.active { display: block; }
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Reusable Components */
.card {
  background-color: var(--color-surface);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}
.card__body { padding: var(--space-24); }

.btn {
  display: inline-flex; align-items: center; justify-content: center;
  padding: var(--space-8) var(--space-16); border-radius: var(--radius-base);
  font-size: var(--font-size-base); font-weight: var(--font-weight-medium);
  cursor: pointer; transition: all var(--duration-normal) var(--ease-standard);
  border: none; text-decoration: none;
}
.btn:focus-visible { outline: none; box-shadow: 0 0 0 3px var(--color-focus-ring); }
.btn--primary { background: var(--color-primary); color: var(--color-btn-primary-text); }
.btn--primary:hover { background: var(--color-primary-hover); }
.btn--secondary { background: var(--color-secondary); color: var(--color-text); }
.btn--secondary:hover { background-color: rgba(var(--color-secondary-rgb), 0.2); }
.btn--outline { background: transparent; border: 1px solid var(--color-border); color: var(--color-text); }
.btn--outline:hover { background: var(--color-secondary); }
.btn--lg { padding: var(--space-12) var(--space-24); font-size: var(--font-size-lg); }
.btn:disabled { opacity: 0.5; cursor: not-allowed; }

.form-control {
  display: block; width: 100%;
  padding: var(--space-8) var(--space-12);
  font-size: var(--font-size-base);
  color: var(--color-text);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  transition: all var(--duration-normal) var(--ease-standard);
}
select.form-control {
  -webkit-appearance: none; appearance: none;
  background-image: var(--select-caret);
  background-repeat: no-repeat;
  background-position: right var(--space-12) center;
  background-size: 16px; padding-right: var(--space-32);
}
.form-control:focus { border-color: var(--color-primary); outline: 2px solid var(--color-primary); }
.form-label { display: block; margin-bottom: var(--space-8); font-weight: var(--font-weight-medium); font-size: var(--font-size-sm); }
.form-group { margin-bottom: var(--space-16); }
.form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-16); margin-bottom: var(--space-24); }

/* Tab Navigation (Shared) */
.tab-navigation {
  display: flex;
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  margin-bottom: var(--space-32);
  overflow: hidden;
  border: 1px solid var(--color-border);
}
.tab-navigation .tab-btn {
  flex: 1; display: flex; flex-direction: column; align-items: center;
  gap: var(--space-4); padding: var(--space-16) var(--space-8);
  border: none; background: transparent; cursor: pointer;
  transition: all var(--duration-normal) var(--ease-standard);
  font-weight: var(--font-weight-medium); color: var(--color-text-secondary);
  border-bottom: 3px solid transparent; min-height: 80px;
}
.tab-navigation .tab-btn:hover { background: var(--color-secondary); color: var(--color-text); }
.tab-navigation .tab-btn.active { background: var(--color-primary); color: var(--color-btn-primary-text); }
.tab-navigation .tab-icon { font-size: var(--font-size-xl); }
.tab-navigation .tab-label, .tab-navigation span { font-size: var(--font-size-sm); text-align: center; }
.tab-content { display: none; }
.tab-content.active { display: block; animation: fadeIn 0.3s ease-out; }

/* 3. YIELD PREDICTION STYLES
-------------------------------------------------*/
.location-controls { display: flex; gap: var(--space-12); margin-bottom: var(--space-24); }
.location-info, .weather-info { background: rgba(var(--color-info-rgb), 0.08); border-radius: var(--radius-base); padding: var(--space-20); margin-top: var(--space-16); border: 1px solid var(--color-border); }
.weather-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-16); margin-top: var(--space-16); }
.weather-item { display: flex; align-items: center; gap: var(--space-12); background: var(--color-surface); padding: var(--space-16); border-radius: var(--radius-base); border: 1px solid var(--color-border); }
.weather-icon { font-size: var(--font-size-2xl); }
.weather-label { display: block; font-size: var(--font-size-sm); color: var(--color-text-secondary); }
.weather-value { font-weight: var(--font-weight-semibold); font-size: var(--font-size-lg); }
.input-method-tabs { display: flex; background: rgba(var(--color-info-rgb), 0.08); border-radius: var(--radius-base); padding: var(--space-4); margin-bottom: var(--space-24); }
.method-tab { flex: 1; padding: var(--space-12); border: none; background: transparent; border-radius: var(--radius-base); cursor: pointer; font-weight: var(--font-weight-medium); color: var(--color-text-secondary); }
.method-tab.active { background: var(--color-surface); color: var(--color-text); box-shadow: var(--shadow-sm); }
.input-panel { display: none; }
.input-panel.active { display: block; }
.sensor-readings { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-16); }
.reading-item { display: flex; justify-content: space-between; align-items: center; background: var(--color-surface); padding: var(--space-16); border-radius: var(--radius-base); border: 1px solid var(--color-border); }
.crop-info { background: rgba(var(--color-warning-rgb), 0.08); border-radius: var(--radius-base); padding: var(--space-20); margin-top: var(--space-24); border: 1px solid var(--color-border); }
.economic-inputs { margin-top: var(--space-32); padding-top: var(--space-24); border-top: 1px solid var(--color-border); }
.prediction-controls { text-align: center; margin-bottom: var(--space-32); }
.results-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-24); padding-bottom: var(--space-16); border-bottom: 1px solid var(--color-border); }
.confidence-value { font-weight: var(--font-weight-bold); color: var(--color-primary); }
.results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-16); margin-bottom: var(--space-32); }
.result-card { display: flex; align-items: center; gap: var(--space-16); background: var(--color-surface); padding: var(--space-20); border-radius: var(--radius-lg); border: 1px solid var(--color-border); box-shadow: var(--shadow-sm); }
.result-icon { font-size: var(--font-size-2xl); }
.result-content h4 { font-size: var(--font-size-sm); color: var(--color-text-secondary); }
.result-value { margin: 0; font-size: var(--font-size-xl); font-weight: var(--font-weight-bold); }
.recommendations, .fertilizer-recommendations { background: rgba(var(--color-success-rgb), 0.08); border-radius: var(--radius-base); padding: var(--space-20); margin: var(--space-24) 0; border: 1px solid var(--color-border); }
.recommendations ul, #fertilizerRecsContent ul { list-style: none; padding: 0; margin: 0; }
.recommendations li, #fertilizerRecsContent li { padding: var(--space-8) 0; border-bottom: 1px solid rgba(var(--color-border), 0.3); }
.recommendations li:last-child, #fertilizerRecsContent li:last-child { border-bottom: none; }
.prediction-actions { display: flex; gap: var(--space-12); justify-content: center; }
.loading-indicator { text-align: center; padding: var(--space-32); }
.loading-spinner { width: 40px; height: 40px; border: 4px solid var(--color-secondary); border-top: 4px solid var(--color-primary); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto var(--space-16) auto; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.status.success { background-color: rgba(var(--color-success-rgb), 0.15); color: var(--color-success); border: 1px solid rgba(var(--color-success-rgb), 0.25); border-radius: var(--radius-full); padding: var(--space-4) var(--space-8); font-size: var(--font-size-sm); }
.fertilizer-recommendations .rec-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-16); margin-top: var(--space-16); }
.fertilizer-recommendations .rec-card { background: var(--color-surface); padding: var(--space-16); border-radius: var(--radius-base); }
.fertilizer-recommendations .rec-card h4 { margin-bottom: var(--space-8); }
.fertilizer-recommendations .rec-card p { font-size: var(--font-size-sm); color: var(--color-text-secondary); }
.fertilizer-recommendations .rec-card .value { font-size: var(--font-size-lg); font-weight: var(--font-weight-semibold); color: var(--color-primary); }

/* 4. DISEASE DETECTION STYLES
-------------------------------------------------*/
.disease-container .upload-area { border: 2px dashed var(--color-border); border-radius: var(--radius-lg); padding: var(--space-32); text-align: center; cursor: pointer; transition: all var(--duration-normal) ease; min-height: 300px; display: flex; align-items: center; justify-content: center; }
.disease-container .upload-area:hover, .disease-container .upload-area.dragover { border-color: var(--color-primary); background: var(--color-secondary); }
.disease-container .upload-content { display: flex; flex-direction: column; align-items: center; gap: var(--space-16); }
.disease-container .upload-icon i { font-size: 4rem; color: var(--color-text-secondary); }
.disease-container .image-preview { position: relative; width: 100%; max-width: 400px; margin: 0 auto; }
.disease-container .image-preview img { width: 100%; height: auto; max-height: 300px; object-fit: cover; border-radius: var(--radius-base); box-shadow: var(--shadow-md); }
.disease-container .image-overlay { position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.7), transparent); color: white; padding: var(--space-16); display: flex; align-items: center; justify-content: space-between; }
.disease-container .btn-analyze { width: 100%; margin-top: var(--space-24); }
.disease-container .processing-card { text-align: center; padding: var(--space-32); }
.disease-container .processing-animation { position: relative; width: 120px; height: 120px; margin: 0 auto var(--space-24); }
.disease-container .ai-brain { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 3rem; color: var(--color-primary); z-index: 2; animation: brainPulse 2s ease-in-out infinite; }
@keyframes brainPulse { 0%, 100% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.1); } }
.disease-container .processing-waves .wave { position: absolute; border: 2px solid var(--color-primary); border-radius: 50%; animation: waveAnimation 2s ease-out infinite; opacity: 0; }
.disease-container .wave:nth-child(1) { width: 60px; height: 60px; margin: -30px 0 0 -30px; animation-delay: 0s; }
.disease-container .wave:nth-child(2) { width: 90px; height: 90px; margin: -45px 0 0 -45px; animation-delay: 0.5s; }
.disease-container .wave:nth-child(3) { width: 120px; height: 120px; margin: -60px 0 0 -60px; animation-delay: 1s; }
@keyframes waveAnimation { 0% { transform: scale(0.8); opacity: 0.8; } 100% { transform: scale(1.5); opacity: 0; } }
.disease-container .progress-bar { width: 100%; height: 8px; background: var(--color-secondary); border-radius: var(--radius-base); overflow: hidden; }
.disease-container .progress-fill { height: 100%; background: linear-gradient(90deg, var(--color-primary), var(--color-warning)); width: 0%; transition: width 0.5s ease; }
.disease-container .results-section .results-header { padding: var(--space-16); }
.disease-container .disease-card { padding: var(--space-24); border-left: 4px solid var(--color-error); margin-bottom: var(--space-16); }
.disease-container .disease-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-16); }
.disease-container .disease-name .scientific-name { font-style: italic; color: var(--color-text-secondary); }
.disease-container .confidence-score, .disease-container .severity-badge { padding: var(--space-4) var(--space-8); border-radius: var(--radius-base); font-size: var(--font-size-sm); font-weight: var(--font-weight-semibold); }
.disease-container .confidence-score { background: rgba(var(--color-success-rgb), 0.2); color: var(--color-success); }
.disease-container .severity-badge.high { background: rgba(var(--color-error-rgb), 0.2); color: var(--color-error); }
.disease-container .severity-badge.medium { background: rgba(var(--color-warning-rgb), 0.2); color: var(--color-warning); }
.disease-container .severity-badge.low { background: rgba(var(--color-info-rgb), 0.2); color: var(--color-info); }
.disease-container .treatment-section .tab-btn { flex: 1; }
.treatment-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-16); }
.treatment-card { background: var(--color-secondary); border-radius: var(--radius-base); padding: var(--space-16); }
.hidden { display: none !important; }

/* 5. MARKET ANALYTICS STYLES
-------------------------------------------------*/
.price-ticker { background: var(--color-primary); color: var(--color-btn-primary-text); padding: var(--space-8) 0; overflow: hidden; white-space: nowrap; }
.ticker-content { display: inline-block; animation: ticker 60s linear infinite; display: flex; gap: var(--space-32); }
.ticker-item { display: inline-flex; align-items: center; gap: var(--space-8); }
.ticker-change.positive { color: #a7f3d0; }
.ticker-change.negative { color: #fca5a5; }
@keyframes ticker { from { transform: translateX(100%); } to { transform: translateX(-100%); } }
.market-tabs i { font-size: var(--font-size-lg); }
.overview-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-24); }
.market-summary { grid-column: 1 / -1; }
.summary-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-16); }
.summary-card { background: var(--color-surface); border-radius: var(--radius-lg); padding: var(--space-16); box-shadow: var(--shadow-sm); border-left: 4px solid var(--color-border); }
.summary-card.bullish { border-left-color: var(--color-success); }
.card-change.positive { color: var(--color-success); }
.card-change.negative { color: var(--color-error); }
.performers-tabs { display: flex; gap: var(--space-8); margin-bottom: var(--space-16); }
.performers-tab-btn { padding: var(--space-8) var(--space-12); border: 1px solid var(--color-border); background: transparent; cursor: pointer; border-radius: var(--radius-base); }
.performers-tab-btn.active { background: var(--color-primary); color: var(--color-btn-primary-text); }
.performer-item { display: flex; align-items: center; gap: var(--space-12); padding: var(--space-12) 0; border-bottom: 1px solid var(--color-border); }
.performer-item:last-child { border: none; }
.performer-rank { width: 32px; height: 32px; border-radius: 50%; background: var(--color-secondary); display: flex; align-items: center; justify-content: center; font-weight: var(--font-weight-semibold); }
.performer-change { margin-left: auto; font-weight: var(--font-weight-semibold); }

/* 6. UTILITIES & MODALS
-------------------------------------------------*/
#notification-container { position: fixed; top: var(--space-24); right: var(--space-24); z-index: 1100; display: flex; flex-direction: column; gap: var(--space-8); }
.notification { background: var(--color-surface); border-radius: var(--radius-base); box-shadow: var(--shadow-lg); padding: var(--space-16); animation: slideIn 0.3s ease-out; border-left: 4px solid; }
.notification.success { border-color: var(--color-success); }
.notification.error { border-color: var(--color-error); }
@keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
.modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; display: flex; align-items: center; justify-content: center; }
.modal-overlay { position: absolute; width: 100%; height: 100%; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); }
.modal-content { background: var(--color-surface); border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); max-width: 90vw; max-height: 90vh; overflow: hidden; position: relative; z-index: 1; border: 1px solid var(--color-border); }
.modal-header { display: flex; justify-content: space-between; padding: var(--space-16); border-bottom: 1px solid var(--color-border); }
.modal-close { background: none; border: none; font-size: 1.2rem; cursor: pointer; }
.modal-body { padding: var(--space-24); max-height: 70vh; overflow-y: auto; }

/* 7. RESPONSIVE DESIGN
-------------------------------------------------*/
@media (max-width: 1024px) {
    .sidebar { width: 80px; }
    .sidebar-header h1, .sidebar-nav span, .sidebar-footer { display: none; }
    .overview-grid { grid-template-columns: 1fr; }
}
@media (max-width: 768px) {
    .main-layout { flex-direction: column; }
    .sidebar { width: 100%; height: 60px; flex-direction: row; align-items: center; padding: 0 var(--space-16); }
    .sidebar-header { margin: 0; }
    .sidebar-nav { flex-direction: row; }
    .sidebar-footer { display: none; }
    .nav-link span { display: none; }
    .app-header { flex-direction: column; gap: var(--space-12); padding: var(--space-12); }
    .tab-navigation { flex-wrap: wrap; }
    .tab-navigation .tab-btn { min-width: calc(50% - 4px); margin: 2px; }
    .form-grid { grid-template-columns: 1fr; }
}
